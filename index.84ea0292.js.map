{"mappings":"AAAA,MAAMA,EAAoBC,SAASC,cAAc,iBACjDC,QAAUF,SAASC,cAAc,aCe4BE,OAAtDC,iBAAiB,QDTjB,WACL,IAAIC,EAAe,GAEnBC,MAPU,sCAOC,CACTC,QAAS,CACP,YAPJ,2EAUGC,MAAKC,GACGA,EAASC,SAEjBF,MAAKG,IAEJA,EAAOA,EAAKC,QAAOC,I,IAAOC,EAAA,OAAkB,OAAT,QAATA,EAAAD,EAAIE,aAAK,IAATD,OAAA,EAAAA,EAAWE,IAAW,IAChDX,EAAeM,EAGf,IAAK,IAAIM,EAAI,EAAGA,EAAIZ,EAAaa,OAAQD,IAAK,CAC1C,MAAME,EAAQd,EAAaY,GAE7B,IAAIG,EAASpB,SAASqB,cAAc,UAE/BF,EAAMJ,QAGTK,EAAOE,MAAQ,GAAGH,EAAMI,KAExBH,EAAOI,UAAY,GAAGL,EAAMM,OAI5B1B,EAAkB2B,YAAYN,G,KAOnCO,OAAM,SAAUC,GACfC,QAAQC,IAAIF,E,OClB+B,MAA3CG,EAAoB/B,SAASC,cAAc,iBACjDC,QAAUF,SAASC,cAAc,aAoDjC8B,EAAkB3B,iBAAiB,UAQnC,WACEyB,QAAQC,IAAIC,EAAkBT,OAE9BO,QAAQC,IAAI5B,SAOZ,MAAMc,EAAM,wDAAwDe,EAAkBT,QAKtFhB,MAAMU,EAAK,CACTT,QAAS,CACP,YA1EU,2EA6EXC,MAAKC,GACGA,EAASC,SAEjBF,MAAKG,GAwBR,SAAsBqB,GACpB,MAAMC,EAASD,EAAIE,KAAIC,GAAQ,iDACXnB,yBACLoB,OAAO,GAAGX,+BACXY,WAAWD,OAAO,GAAGE,qCACrBD,WAAWD,OAAO,GAAGG,uCACpBC,KAAK,KACpBtC,QAAQsB,UAAYS,C,CA/BNQ,CAAa9B,EAAK,MAC/BgB,OAAM,SAAUC,GACfC,QAAQC,IAAIF,E,OA1BjBC,QAAQC,IAAI5B","sources":["src/js/cat-api.js","src/index.js"],"sourcesContent":["const fetchBreedsSelect = document.querySelector('.breed-select');\ncatInfo = document.querySelector('.cat-info');\n\nconst url = `https://api.thecatapi.com/v1/breeds`;\nconst api_key =\n  'live_JJWPSVYeymspnNURrwJNrEoFQ9xEFTfnXeyuAKVCVICBuPkGG95Ew7XOSCY83E6e';\n\nexport function fetchBreeds() {\n  let storedBreeds = [];\n\n  fetch(url, {\n    headers: {\n      'x-api-key': api_key,\n    },\n  })\n    .then(response => {\n      return response.json();\n    })\n    .then(data => {\n      //filter to only include those with an `image` object\n      data = data.filter(img => img.image?.url != null); \n      storedBreeds = data;\n    //   console.log(storedBreeds);\n\n      for (let i = 0; i < storedBreeds.length; i++) {\n          const breed = storedBreeds[i];\n          \n        let option = document.createElement('option');\n        //skip any breeds that don't have an image\n        if (!breed.image) continue;\n        //use the current array index\n        //   option.value = i; \n          option.value = `${breed.id}`;i; \n          \n          option.innerHTML = `${breed.name}`;\n        //   console.log(option);\n\n        //    document.getElementById(\".breed-select\").appendChild(option);\n          fetchBreedsSelect.appendChild(option);\n        //   console.log(fetchBreedsSelect);\n        }\n        // return fetchBreedsSelect.appendChild(option);\n\n        // return console.log(fetchBreedsSelect);\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n}\n","// import axios from \"axios\"; \n// axios.defaults.headers.common[\"x-api-key\"] = \"live_JJWPSVYeymspnNURrwJNrEoFQ9xEFTfnXeyuAKVCVICBuPkGG95Ew7XOSCY83E6e\";\nimport { fetchBreeds } from \"./js/cat-api\";\n\n    // axios.get('https://api.thecatapi.com/v1/images/search')\n    // .then(response => { console.log(response) });\n\n// Коллекция пород\n// При загрузке страницы должен выполняться HTTP-запрос за коллекцией пород.\n// Для этого необходимо выполнить GET - запрос на ресурс https://api.thecatapi.com/v1/breeds,\n// возвращающий массив объектов. При успешном запросе, необходимо наполнить select.breed - select \n// опциями так, чтобы value опции содержал id породы, а в интерфейсе пользователю отображалось \n// название породы. \n// Напиши функцию fetchBreeds() которая делает HTTP-запрос и возвращает промис с массивом \n// пород - результатом запроса.Вынеси её в файл cat - api.js и сделай именованный экспорт.\n\nwindow.addEventListener('load', fetchBreeds); \n\n// Информация о коте\n// Когда пользователь выбирает опцию в селекте, необходимо выполнять запрос за полной информацией\n// о коте на ресурс https://api.thecatapi.com/v1/images/search. Не забудь указать в этом запросе\n// параметр строки запроса breed_ids с идентификатором породы.\n// Напиши функцию fetchCatByBreed(breedId) которая ожидает идентификатор породы, делает HTTP-запрос\n// и возвращает промис с данными о коте - результатом запроса.Вынеси её в файл cat - api.js\n// и сделай именованный экспорт.\n// Если запрос был успешный, под селектом, в блоке div.cat-info появляется изображение и развернутая\n// информация о коте: название породы, описание и темперамент.\n\nconst fetchBreedsSelect = document.querySelector('.breed-select');\ncatInfo = document.querySelector('.cat-info');\n\n// const url = `https://api.thecatapi.com/v1/breeds`;\nconst api_key = \"live_JJWPSVYeymspnNURrwJNrEoFQ9xEFTfnXeyuAKVCVICBuPkGG95Ew7XOSCY83E6e\"\n// let storedBreeds = []\n\n//  fetch(url,{headers: {\n//       'x-api-key': api_key\n//     }})\n//  .then((response) => {\n//    return response.json();\n//  })\n// .then((data) => {\n//    //filter to only include those with an `image` object\n//    data = data.filter(img=> img.image?.url!=null)\n   \n//     storedBreeds = data;\n//     // console.log(storedBreeds);\n   \n//    for (let i = 0; i < storedBreeds.length; i++) {\n//      const breed = storedBreeds[i];\n//     let option = document.createElement('option');\n//     //    console.log(breed);\n//     //    console.log(option);\n//      //skip any breeds that don't have an image\n//      if(!breed.image)continue\n     \n//     //use the current array index\n//     option.value = i;\n//        option.innerHTML = `${breed.name}`;\n//     //    document.getElementById(\".breed-select\").appendChild(option);\n//       fetchBreedsSelect.appendChild(option);\n//   }\n//     // console.log(fetchBreedsSelect);\n//    //show the first breed by default\n//   //  showBreedImage(0)\n// })\n// .catch(function(error) {\n//    console.log(error);\n// });\n\n// ==============================================\n// ============================================================================\n// ====================================================================================\n\n// https://api.thecatapi.com/v1/images/search?breed_ids={breed.id}\n// image: {id: '0XYvRd7oD', width: 1204, height: 1445, url: 'https://cdn2.thecatapi.com/images/0XYvRd7oD.jpg'}\n// name: \"Abyssinian\"\n// description: \"The Abyssinian is easy to care for, and a joy to have in your home. They’re affectionate cats and love both people and other animals.\"\n// temperament: \"Active, Energetic, Independent, Intelligent, Gentle\"\n\n\nfetchBreedsSelect.addEventListener(\"change\", fetchCatByBreed);\n\n// function fetchCatByBreed(breedId) {\n// if (!isEpmty(catInfo)) {\n//     catInfo.remove();\n//   }\n// }\n console.log(catInfo);\nfunction fetchCatByBreed() {\n  console.log(fetchBreedsSelect.value);\n\n  console.log(catInfo);\n  // if (!isEpmty(catInfo)) {\n  //   catInfo.remove();\n  // }\n\n  // const url = `https://api.thecatapi.com/v1/images/search?breed_ids=aege`;\n  // const url = `https://api.thecatapi.com/v1/images/search?breed_ids=${breed.id}`;\n  const url = `https://api.thecatapi.com/v1/images/search?breed_ids=${fetchBreedsSelect.value}`;\n\n  // console.log(url);\n  // const api_key = \"DEMO_API_KEY\"\n\n  fetch(url, {\n    headers: {\n      'x-api-key': api_key,\n    },\n  })\n    .then(response => {\n      return response.json();\n    })\n    .then(data => createMarkup(data[0]))\n    .catch(function (error) {\n      console.log(error);\n    });\n    // .then(data => {\n   \n    //   //  catInfo.innerHTML = imagesData\n    //   // console.log(markup);\n    //   markup = data\n    //     .map(({ url, breeds }) => `<div class=\"cat-info\">\n    //       <img src=\"${url}\">\n    //       <h2>\"${breeds[0].name}\"</h2>\n    //       <p>\"${breeds[0].description}\"</p>\n    //       <p>\"${breeds[0].temperament}\"</p>\n    //     </div>`\n    //     )\n    //     .join(' ');\n    //   console.log(markup);\n    //    catInfo.innerHTML = markup;\n    // })\n    // .catch(function (error) {\n    //   console.log(error);\n    // });\n\n  function createMarkup(arr) {\n    const markup = arr.map(item => `<div class=\"cat-info\">\n            <img src=\"${url}\">\n            <h2>\"${breeds[0].name}\"</h2>\n            <p>\"${imagesData.breeds[0].description}\"</p>\n            <p>\"${imagesData.breeds[0].temperament}\"</p>\n          </div>`).join(' ');\n    catInfo.innerHTML = markup;\n  }\n\n  // .then((data) => {\n  //   let imagesData = data;\n  //   // console.log(imagesData);\n\n  //   imagesData.map(function (imageData) {\n  //     const { url, breeds } = imageData;\n\n  //     // console.log(imageData);\n  //     let image = document.createElement('img');\n  //     //use the url from the image object\n  //     image.src = `${url}`;\n  //     // image.width = 20px;\n  //     console.log(image.src);\n\n  //     // `<div class=\"cat-info\">\n  //     //   <img src=\"${url}\">\n  //     //   <h2>\"${breeds[0].name}\"</h2>\n  //     //   <p>\"${imageData.breeds[0].description}\"</p>\n  //     //   <p>\"${imageData.breeds[0].temperament}\"</p>\n  //     // </div>`;\n  //     let nameCat = document.createElement('h2');\n  //     nameCat.textContent = `${breeds[0].name}`;\n  //     let descriptionCat = document.createElement('p');\n  //     descriptionCat.textContent = `${imageData.breeds[0].description}`;\n  //     let temperamentCat = document.createElement('p');\n  //     temperamentCat.textContent = `${imageData.breeds[0].temperament}`;\n  //     // console.log(nameCat);\n  //     // console.log(descriptionCat);\n  //     // console.log(temperamentCat);\n  //     catInfo.append(image, nameCat, descriptionCat, temperamentCat);\n  //     console.log(catInfo);\n  //   });\n  // })\n  // .catch(function (error) {\n  //   console.log(error);\n  // });\n  // .finally(() => {\n  //   // if (fetchBreedsSelect.value) {\n\n  //   // }\n  //   catInfo.remove();\n  // } );\n}\n\n// function createMarkup(arr) {\n//   console.log(arr);\n\n//   return console.log(\n//     arr\n//       .map(\n//         ({ url, breeds }) => `<div class=\"cat-info\">\n//           <img src=\"${url}\">\n//           <h2>\"${breeds[0].name}\"</h2>\n//           <p>\"${imagesData.breeds[0].description}\"</p>\n//           <p>\"${imagesData.breeds[0].temperament}\"</p>\n//         </div>`\n//       )\n//       .join(' ')\n//   );\n// }\n\n// console.log(catInfo);\n// const url = `https://api.thecatapi.com/v1/images/search?breed_ids=aege`;\n// const url = `https://api.thecatapi.com/v1/images/search?breed_ids=${breed.id}`;\n// const api_key = \"DEMO_API_KEY\"\n\n//  fetch(url,{headers: {\n//       'x-api-key': api_key\n//     }})\n//  .then((response) => {\n//    return response.json();\n//  })\n// .then((data) => {\n//     let imagesData = data;\n//     console.log(imagesData);\n\n//     imagesData.map(function (imageData) {     \n//       const { url, breeds } = imageData;      \n      \n//      console.log(imageData);\n//     let image = document.createElement('img');\n//     //use the url from the image object\n//         image.src = `${url}`;      \n//         // image.width = 20px;\n//     console.log(image.src);\n            \n      \n//       let nameCat = document.createElement('h2');   \n//       nameCat.textContent = `${breeds[0].name}`;\n//       let descriptionCat = document.createElement('p');  \n//       descriptionCat.textContent = `${imageData.breeds[0].description}`;\n//       let temperamentCat = document.createElement('p');  \n//       temperamentCat.textContent = `${imageData.breeds[0].temperament}`;\n\n//       console.log(nameCat);\n//       console.log(descriptionCat);\n//        console.log(temperamentCat);\n//       temperamentCat.classList.add(\"temp\");\n                  \n//       catInfo.append(image, nameCat, descriptionCat, temperamentCat);       \n//     });\n// })\n// .catch(function(error) {\n//    console.log(error);\n// });\n\n\n\n\n// const fetchBreedsSelect = document.querySelector(\".breed-select\");\n\n// console.dir(document);\n\n// let selectedFile = fetchBreedsSelect.options;\n//     console.dir(selectedFile);\n// fetchBreedsSelect.addEventListener('change', onSerch);\n\n// function onSerch(e) {\n//     let selectedFile = fetchBreedsSelect.options;\n//     console.dir(selectedFile);\n    \n//     console.dir(e.type);\n// }\n\n// axios.get('https://api.thecatapi.com/v1/breeds')\n//     .then(resp => {\n//         if (!resp.ok) {\n//             throw new Error(resp.statusText);\n//         }\n//         return console.log(resp)\n//     });\n        \n\n// fetch('https://api.thecatapi.com/v1/breeds')\n//         // fetch('https://api.thecatapi.com/v1/images/search?api_key=live_JJWPSVYeymspnNURrwJNrEoFQ9xEFTfnXeyuAKVCVICBuPkGG95Ew7XOSCY83E6e')\n//     .then(resp => {\n//         if (!resp.ok) {\n//             throw new Error(resp.statusText);\n//         }\n//         console.log(resp);\n//         return resp.json()\n//     }).then(data => {\n//         // return data;\n//         console.log(data)\n//     })\n//         .catch(err => console.error(err))\n\n// let selectedFile = fetchBreedsSelect.options;\n// console.dir(selectedFile);\n// selectedFile = data;\n// console.dir(selectedFile);"],"names":["$c4ebbd28ee7007ee$var$fetchBreedsSelect","document","querySelector","catInfo","window","addEventListener","storedBreeds","fetch","headers","then","response","json","data","filter","img","ref","image","url","i","length","breed","option","createElement","value","id","innerHTML","name","appendChild","catch","error","console","log","$1f0dc3b9307be026$var$fetchBreedsSelect","arr","markup","map","item","breeds","imagesData","description","temperament","join","createMarkup"],"version":3,"file":"index.84ea0292.js.map"}